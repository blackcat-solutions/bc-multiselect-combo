<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Test Multi-Select combo button</title>
    <style>
        @import "../../dojo/resources/dojo.css";
        @import "../../dijit/themes/dijit.css";
        @import "../../dijit/themes/claro/claro.css";
        @import "../../dgrid/css/skins/claro.css";
        @import "../resources/MultiSelectDropDown.css";

        h1 {
            margin-bottom: 1em;
        }
    </style>
    <script src="../../dojo/dojo.js"
            data-dojo-config="async: true"></script>
    <script>
        require([
            "dojo/dom",
            "dgrid-multiselect-combo/MultiSelectComboBox",
            "dojo/store/Memory",

            "dojo/domReady!"
        ],
                function (dom, MultiSelectComboBox, Memory) {
                    var store = new Memory({
                            data: [
                                {id: '1', foo: 'aaa1'},
                                {id: '2', foo: 'aaa2'},
                                {id: '3', foo: 'aaa3'},
                                {id: '4', foo: 'aaa4'},
                                {id: '5', foo: 'aaa5'},
                                {id: '6', foo: 'bbb1'},
                                {id: '7', foo: 'bbb2'},
                                {id: '8', foo: 'bbb3'},
                                {id: '9', foo: 'bbb4'},
                                {id: '10', foo: 'bbb5'}
                            ]
                        }),
                        w = new MultiSelectComboBox({
                            id: 'select1',
                            displayAttr: 'foo',
                            labelWidth: '5em',
                            store: store,
                            onChange: function(value) {
                                dom.byId('selection-output').innerHTML = JSON.stringify(value);
                            }
                        }),
                        w2 = new MultiSelectComboBox({
                            id: 'select2',
                            displayAttr: 'foo',
                            labelWidth: '10em',
                            showApplyButton: true,
                            store: store,
                            onChange: function(value) {
                                dom.byId('selection-output2').innerHTML = JSON.stringify(value);
                            }
                        });

                    dom.byId('placeholder').appendChild(w.domNode);
                    dom.byId('placeholder2').appendChild(w2.domNode);

                });
    </script>
</head>
<body class="claro">

<h1>Multi-select combo tests</h1>

<h2>Default behaviour (immediate change of selection)</h2>
<div>
    <div id="placeholder" style="display: inline-block; margin-right: 5em;">
    </div>
    <div style="display: inline">
        <span>Selected values: </span>
        <span id="selection-output"></span>
    </div>
</div>

<h2>Only change selection when apply pressed.</h2>
<div>
    <div id="placeholder2" style="display: inline-block; margin-right: 5em;">
    </div>
    <div style="display: inline">
        <span>Selected values: </span>
        <span id="selection-output2"></span>
    </div>
</div>

</body>
</html>
